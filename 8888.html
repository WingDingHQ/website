<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>A Very 8888 Christmas</title>
    <style>
        /* --- LOAD LOCAL FONTS --- */
        @font-face {
            font-family: 'PapyrusCustom';
            src: url('papyrus.ttf');
        }

        @font-face {
            font-family: 'ComicCustom';
            src: url('comic.ttf');
        }

        /* --- ANIMATIONS --- */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        @keyframes spinSlow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }

        /* --- MAIN LAYOUT --- */
        body {
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            box-sizing: border-box;
            font-family: 'PapyrusCustom', fantasy; 
            font-weight: bold;
            color: white;

            background-image: url('christmas.png');
            background-position: center;
            background-repeat: no-repeat;
            background-size: cover;
            background-attachment: fixed;

            display: flex;
            justify-content: center;
            align-items: center;
            overflow-x: hidden; 

            animation: fadeIn 2s ease-in-out;
        }

        .layout-wrapper {
            display: flex;
            flex-direction: row;
            align-items: flex-start;
            justify-content: center;
            gap: 40px;
            width: 100%;
            max-width: 1400px; 
        }

        /* --- COLUMNS --- */
        .side-column-left {
            flex: 0 0 300px; 
            display: flex;
            justify-content: flex-end; 
        }

        .center-column {
            flex: 0 0 500px; 
            max-width: 100%;
        }

        .side-column-right {
            flex: 0 0 300px; 
            display: flex;
            justify-content: flex-start; 
        }

        /* --- SHARED GLASS STYLE --- */
        .glass-panel {
            background-color: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.5);
            border: 1px solid rgba(255, 255, 255, 0.1);
            width: 100%; 
            box-sizing: border-box;
        }

        /* --- SIDEBAR CONTENT STYLES --- */
        .sidebar-content { text-align: center; }

        .sidebar-cover-link {
            display: block;
            transition: transform 0.2s, opacity 0.2s;
        }
        .sidebar-cover-link:hover {
            transform: scale(1.05);
            opacity: 0.9;
        }
        .sidebar-cover-img {
            width: 100%;
            height: auto;
            border-radius: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .singers-heading {
            font-size: 36px;
            margin: 25px 0 15px 0;
            text-decoration: underline;
        }

        .singers-list {
            font-family: 'ComicCustom', sans-serif;
            font-size: 20px;
            line-height: 1.6;
            font-weight: normal; 
        }
        .singers-list p { margin: 20px 0; }

        /* --- PLAYER STYLES --- */
        .title-logo {
            display: block;
            margin: 0 auto 30px auto; 
            max-width: 100%;           
            height: auto;             
        }

        .track { margin-bottom: 25px; padding-bottom: 15px; border-bottom: 1px solid rgba(255, 255, 255, 0.1); }
        .track:last-child { border-bottom: none; margin-bottom: 0; }
        .track-header { display: flex; align-items: center; margin-bottom: 10px; }
        
        .play-btn {
            background: none;
            border: none;
            padding: 0;
            cursor: pointer;
            margin-right: 15px;
            width: 40px;
            height: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            transition: transform 0.2s;
        }
        .play-btn:hover { transform: scale(1.1); }

        .play-icon {
            width: 35px;
            height: auto;
            animation: spinSlow 4s linear infinite;
            animation-play-state: paused;
        }
        .play-icon.playing { animation-play-state: running; }
        
        .song-title { font-size: 18px; font-weight: bold; text-transform: capitalize; }
        .track-controls { display: flex; align-items: center; gap: 10px; }
        
        /* SHARED SLIDER STYLES */
        input[type="range"] {
            -webkit-appearance: none; 
            background: rgba(255, 255, 255, 0.2);
            border-radius: 2px; 
            outline: none; 
            cursor: pointer;
        }
        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none; 
            width: 12px; 
            height: 12px; 
            border-radius: 50%;
            background: #5c9940; 
            cursor: pointer; 
            transition: transform 0.1s;
        }
        input[type="range"]::-webkit-slider-thumb:hover { transform: scale(1.5); }
        
        .seek-slider { width: 100%; height: 4px; }
        .time-display { font-size: 14px; min-width: 90px; text-align: right; opacity: 0.8; }
        
        .back-link { 
            display: block; 
            text-align: center; 
            margin-top: 20px; 
            color: rgba(255, 255, 255, 0.5); 
            text-decoration: none; 
            font-size: 14px; 
            text-transform: lowercase; 
        }
        .back-link:hover { color: white; }

        /* --- VERTICAL VOLUME STYLES --- */
        #volume-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            height: auto; /* Will be set by JS */
        }
        
        .volume-container {
            flex-grow: 1; 
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            position: relative; /* Anchor for absolute positioning */
            min-height: 200px;
            width: 100%;
        }

        #master-volume {
            transform: rotate(-90deg);
            transform-origin: center;
            height: 6px; 
            margin: 0;
            position: absolute; 
            z-index: 2; /* Ensure slider is clickable */
        }

        .volume-label {
            font-family: 'ComicCustom', sans-serif;
            font-size: 18px; /* Slightly smaller to fit nicely */
            position: absolute;
            z-index: 1;
            pointer-events: none; /* Let clicks pass through to slider area */
            white-space: nowrap;
            
            /* We use a CSS variable --vol-percent updated by JS.
               DESKTOP: Position based on Bottom.
            */
            bottom: var(--vol-percent, 100%); 
            left: 55%; /* Push it to the right of the center line */
            transform: translateY(50%); /* Center vertically on the knob */
            margin-left: 15px; /* Spacing from the slider track */
        }

        /* --- MOBILE RESPONSIVE --- */
        @media (max-width: 1150px) {
            .layout-wrapper {
                flex-direction: column;
                align-items: center;
                gap: 30px;
            }
            .side-column-left, .center-column, .side-column-right {
                flex: auto;
                width: 100%;
                max-width: 500px;
            }
            .side-column-right {
                justify-content: center;
                order: 3;
            }
            .side-column-left {
                justify-content: center;
                order: 2; 
            }
            .center-column {
                order: 1;
            }
            
            /* Reset Volume to horizontal */
            #volume-content { height: auto !important; }
            .volume-container { min-height: auto; margin-top: 30px; padding-bottom: 10px; }
            
            #master-volume {
                transform: none;
                position: relative;
                width: 100% !important;
                height: 6px;
            }
            
            /* Mobile Label Styling: Follows horizontally */
            .volume-label {
                bottom: auto;
                left: var(--vol-percent, 100%);
                top: -30px; /* Float above the thumb */
                margin-left: 0;
                transform: translateX(-50%); /* Center horizontally on the knob */
            }
        }
    </style>
</head>
<body>

    <div class="layout-wrapper">

        <div class="side-column-left">
            <div class="sidebar-content glass-panel" id="singers-panel">
                <a href="https://www.youtube.com/watch?v=DmDb7IsjRjE" target="_blank" rel="noopener noreferrer" class="sidebar-cover-link">
                    <img src="cover.png" alt="Album Cover - Click to Watch Video" class="sidebar-cover-img">
                </a>
                <h1 class="singers-heading">Singers:</h1>
                <div class="singers-list">
                    <p>WingDingHQ</p>
                    <p>Speckes</p>
                    <p>Taco</p>
                    <p>Anna Civiero</p>
                    <p>Neon_Noah</p>
                    <p>AJAwad</p>
                    <p>Smidge</p>
                </div>
            </div>
        </div>

        <div class="center-column glass-panel">
            <img src="8888.png" alt="A Very 8888 Christmas" class="title-logo">

            <div class="track" id="track-1">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(1)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-1">
                    </button>
                    <span class="song-title">1. Holly Jolly Christmas</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(1)" id="seek-1">
                    <span class="time-display" id="time-1">0:00 / --:--</span>
                </div>
                <audio id="audio-1" src="holly jolly christmas.mp3" preload="metadata" ontimeupdate="updateProgress(1)" onended="resetPlayer(1)"></audio>
            </div>

            <div class="track" id="track-2">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(2)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-2">
                    </button>
                    <span class="song-title">2. The Christmas Song (A Neon Noah Special)</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(2)" id="seek-2">
                    <span class="time-display" id="time-2">0:00 / --:--</span>
                </div>
                <audio id="audio-2" src="the christmas song (a neon noah special).mp3" preload="metadata" ontimeupdate="updateProgress(2)" onended="resetPlayer(2)"></audio>
            </div>

            <div class="track" id="track-3">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(3)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-3">
                    </button>
                    <span class="song-title">3. Let It Snow</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(3)" id="seek-3">
                    <span class="time-display" id="time-3">0:00 / --:--</span>
                </div>
                <audio id="audio-3" src="let it snow.mp3" preload="metadata" ontimeupdate="updateProgress(3)" onended="resetPlayer(3)"></audio>
            </div>

            <div class="track" id="track-4">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(4)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-4">
                    </button>
                    <span class="song-title">4. Santa Claus Is Coming To Town</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(4)" id="seek-4">
                    <span class="time-display" id="time-4">0:00 / --:--</span>
                </div>
                <audio id="audio-4" src="santa claus is coming to town.mp3" preload="metadata" ontimeupdate="updateProgress(4)" onended="resetPlayer(4)"></audio>
            </div>

            <div class="track" id="track-5">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(5)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-5">
                    </button>
                    <span class="song-title">5. It's The Most Wonderful Time Of The Year</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(5)" id="seek-5">
                    <span class="time-display" id="time-5">0:00 / --:--</span>
                </div>
                <audio id="audio-5" src="it's the most wonderful time of the year.mp3" preload="metadata" ontimeupdate="updateProgress(5)" onended="resetPlayer(5)"></audio>
            </div>

            <div class="track" id="track-6">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(6)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-6">
                    </button>
                    <span class="song-title">6. Jingle Bell Rock</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(6)" id="seek-6">
                    <span class="time-display" id="time-6">0:00 / --:--</span>
                </div>
                <audio id="audio-6" src="jingle bell rock.mp3" preload="metadata" ontimeupdate="updateProgress(6)" onended="resetPlayer(6)"></audio>
            </div>

            <div class="track" id="track-7">
                <div class="track-header">
                    <button class="play-btn" onclick="togglePlay(7)">
                        <img src="button.png" alt="Play" class="play-icon" id="icon-7">
                    </button>
                    <span class="song-title">7. All I Want For Christmas Is You</span>
                </div>
                <div class="track-controls">
                    <input type="range" value="0" class="seek-slider" oninput="seekAudio(7)" id="seek-7">
                    <span class="time-display" id="time-7">0:00 / --:--</span>
                </div>
                <audio id="audio-7" src="all i want for christmas is you.mp3" preload="metadata" ontimeupdate="updateProgress(7)" onended="resetPlayer(7)"></audio>
            </div>

            <a href="index.html" class="back-link">‚Üê return to home</a>
        </div>

        <div class="side-column-right">
            <div class="sidebar-content glass-panel" id="volume-content">
                <h1 class="singers-heading" style="margin-top: 0;">Volume</h1>
                <div class="volume-container" id="vol-container">
                    <input type="range" id="master-volume" min="0" max="1" step="0.01" value="1">
                    <div class="volume-label" id="volume-display">100%</div>
                </div>
            </div>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const audios = document.querySelectorAll('audio');
            const masterVolumeSlider = document.getElementById('master-volume');
            const volumeDisplay = document.getElementById('volume-display');
            const volContainer = document.getElementById('vol-container');

            // --- VOLUME LOGIC ---
            function updateVolumeUI() {
                const volume = masterVolumeSlider.value;
                const percentage = Math.round(volume * 100);
                
                // Update text
                volumeDisplay.textContent = percentage + '%';
                
                // Update Audio
                audios.forEach(audio => audio.volume = volume);

                // Update CSS Variable for Position (0% to 100%)
                volContainer.style.setProperty('--vol-percent', (volume * 100) + '%');
            }

            masterVolumeSlider.addEventListener('input', updateVolumeUI);
            
            // Initialize
            updateVolumeUI();
            
            // --- HEIGHT SYNC (Singers <-> Volume) ---
            const singersPanel = document.getElementById('singers-panel');
            const volumePanel = document.getElementById('volume-content');

            function syncHeights() {
                if (window.innerWidth > 1150) {
                    const height = singersPanel.offsetHeight;
                    volumePanel.style.height = height + 'px';
                    
                    // Width of rotated slider = Height of container - header space
                    const availableHeight = height - 80; 
                    masterVolumeSlider.style.width = availableHeight + 'px';
                } else {
                    volumePanel.style.height = 'auto';
                    masterVolumeSlider.style.width = '100%';
                }
            }

            window.addEventListener('load', syncHeights);
            window.addEventListener('resize', syncHeights);
            syncHeights();

            // --- PLAYER LOGIC (Existing) ---
            audios.forEach(audio => {
                const id = audio.id.split('-')[1];
                const setInitialDuration = () => {
                    if (audio.duration && !isNaN(audio.duration) && audio.duration !== Infinity) {
                        const duration = formatTime(audio.duration);
                        document.getElementById(`time-${id}`).textContent = `0:00 / ${duration}`;
                    }
                };
                if (audio.readyState >= 1) setInitialDuration();
                else audio.addEventListener('loadedmetadata', setInitialDuration);
            });
        });

        function togglePlay(id) {
            const audio = document.getElementById(`audio-${id}`);
            const icon = document.getElementById(`icon-${id}`);
            if (audio.paused) {
                stopAllAudio(); 
                audio.play();
                icon.classList.add('playing');
            } else {
                audio.pause();
                icon.classList.remove('playing');
            }
        }

        function stopAllAudio() {
            const audios = document.querySelectorAll('audio');
            const icons = document.querySelectorAll('.play-icon');
            audios.forEach(audio => audio.pause());
            icons.forEach(icon => icon.classList.remove('playing'));
        }

        function updateProgress(id) {
            const audio = document.getElementById(`audio-${id}`);
            const seekSlider = document.getElementById(`seek-${id}`);
            const timeDisplay = document.getElementById(`time-${id}`);
            if (audio.duration) {
                const percent = (audio.currentTime / audio.duration) * 100;
                seekSlider.value = percent;
                const current = formatTime(audio.currentTime);
                const duration = formatTime(audio.duration);
                timeDisplay.textContent = `${current} / ${duration}`;
            }
        }

        function seekAudio(id) {
            const audio = document.getElementById(`audio-${id}`);
            const seekSlider = document.getElementById(`seek-${id}`);
            const seekTime = (audio.duration / 100) * seekSlider.value;
            audio.currentTime = seekTime;
        }

        function resetPlayer(id) {
            const icon = document.getElementById(`icon-${id}`);
            const seekSlider = document.getElementById(`seek-${id}`);
            icon.classList.remove('playing');
            seekSlider.value = 0;
            const audio = document.getElementById(`audio-${id}`);
            const timeDisplay = document.getElementById(`time-${id}`);
            if(audio.duration) timeDisplay.textContent = `0:00 / ${formatTime(audio.duration)}`;
        }

        function formatTime(seconds) {
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min}:${sec < 10 ? '0' : ''}${sec}`;
        }
    </script>
</body>
</html>
